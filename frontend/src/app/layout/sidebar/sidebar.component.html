<div class="brand">
  <div class="brand-mark">FQ</div>
  <div>
    <div class="brand-title">FlowIQ</div>
    <div class="brand-subtitle">Cashflow Assistant</div>
  </div>
</div>

<mat-nav-list class="nav-list">
  <ng-container *ngFor="let item of navItems">
    <mat-expansion-panel *ngIf="item.children?.length; else singleNav" class="nav-expansion" [expanded]="isParentActive(item)">
      <mat-expansion-panel-header>
        <mat-panel-title class="panel-title">
          <mat-icon>{{ item.icon }}</mat-icon>
          <span>{{ item.label }}</span>
        </mat-panel-title>
      </mat-expansion-panel-header>

      <a
        mat-list-item
        class="sub-item"
        *ngFor="let child of item.children"
        [routerLink]="child.route"
        routerLinkActive="active"
        (click)="itemSelected.emit()"
      >
        <mat-icon matListItemIcon>{{ child.icon }}</mat-icon>
        <span matListItemTitle>{{ child.label }}</span>
      </a>
    </mat-expansion-panel>

    <ng-template #singleNav>
      <a
        mat-list-item
        [routerLink]="item.route"
        routerLinkActive="active"
        [routerLinkActiveOptions]="{ exact: item.route === '/dashboard' }"
        (click)="itemSelected.emit()"
      >
        <mat-icon matListItemIcon>{{ item.icon }}</mat-icon>
        <span matListItemTitle>{{ item.label }}</span>
      </a>
    </ng-template>
  </ng-container>
</mat-nav-list>
