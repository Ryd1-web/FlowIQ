"use strict";(self.webpackChunkflowiq_frontend=self.webpackChunkflowiq_frontend||[]).push([[197],{6197:(v,l,r)=>{r.r(l),r.d(l,{SetupBusinessModule:()=>y});var m=r(177),o=r(9417),p=r(8498),g=r(5596),u=r(2102),c=r(9631),f=r(8834),h=r(9183),C=r(9213),e=r(4438),M=r(6230);function b(s,B){1&s&&e.nrm(0,"mat-progress-spinner",11)}function S(s,B){if(1&s&&(e.j41(0,"div",12)(1,"mat-icon"),e.EFF(2,"error"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.k0s()()),2&s){const i=e.XpG();e.R7$(4),e.JRh(i.error)}}const F=[{path:"",component:(()=>{class s{businessService;router;name="";description="";category="";address="";loading=!1;error="";constructor(i,a){this.businessService=i,this.router=a}ngOnInit(){this.businessService.getAllForCurrentUser().subscribe({next:i=>{i.length>0&&this.router.navigate(["/dashboard"])}})}createBusiness(){this.name.trim()?(this.loading=!0,this.error="",this.businessService.create({name:this.name.trim(),description:this.description.trim(),category:this.category.trim(),address:this.address.trim()}).subscribe({next:i=>{this.loading=!1,localStorage.setItem("businessId",i.id),this.router.navigate(["/dashboard"])},error:()=>{this.loading=!1,this.error="Failed to create business profile."}})):this.error="Business name is required."}static \u0275fac=function(a){return new(a||s)(e.rXU(M.u),e.rXU(p.Ix))};static \u0275cmp=e.VBU({type:s,selectors:[["app-setup-business"]],decls:27,vars:7,consts:[[1,"setup-container"],[1,"setup-card"],[3,"ngSubmit"],["appearance","outline",1,"setup-field"],["matInput","","name","name","required","","maxlength","100",3,"ngModelChange","ngModel"],["matInput","","name","category","maxlength","80",3,"ngModelChange","ngModel"],["matInput","","name","description","maxlength","250",3,"ngModelChange","ngModel"],["matInput","","name","address","maxlength","200",3,"ngModelChange","ngModel"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["diameter","30",4,"ngIf"],["class","setup-error",4,"ngIf"],["diameter","30"],[1,"setup-error"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"mat-card",1)(2,"h1"),e.EFF(3,"Set Up Your Business"),e.k0s(),e.j41(4,"p"),e.EFF(5,"Create your business profile to start tracking cashflow."),e.k0s(),e.j41(6,"form",2),e.bIt("ngSubmit",function(){return n.createBusiness()}),e.j41(7,"mat-form-field",3)(8,"mat-label"),e.EFF(9,"Business Name"),e.k0s(),e.j41(10,"input",4),e.mxI("ngModelChange",function(t){return e.DH7(n.name,t)||(n.name=t),t}),e.k0s()(),e.j41(11,"mat-form-field",3)(12,"mat-label"),e.EFF(13,"Category"),e.k0s(),e.j41(14,"input",5),e.mxI("ngModelChange",function(t){return e.DH7(n.category,t)||(n.category=t),t}),e.k0s()(),e.j41(15,"mat-form-field",3)(16,"mat-label"),e.EFF(17,"Description"),e.k0s(),e.j41(18,"input",6),e.mxI("ngModelChange",function(t){return e.DH7(n.description,t)||(n.description=t),t}),e.k0s()(),e.j41(19,"mat-form-field",3)(20,"mat-label"),e.EFF(21,"Address"),e.k0s(),e.j41(22,"input",7),e.mxI("ngModelChange",function(t){return e.DH7(n.address,t)||(n.address=t),t}),e.k0s()(),e.j41(23,"button",8),e.EFF(24,"Create Business"),e.k0s()(),e.DNE(25,b,1,0,"mat-progress-spinner",9)(26,S,5,1,"div",10),e.k0s()()),2&a&&(e.R7$(10),e.R50("ngModel",n.name),e.R7$(4),e.R50("ngModel",n.category),e.R7$(4),e.R50("ngModel",n.description),e.R7$(4),e.R50("ngModel",n.address),e.R7$(),e.Y8G("disabled",n.loading),e.R7$(2),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("ngIf",n.error))},dependencies:[m.bT,o.qT,o.me,o.BC,o.cb,o.YS,o.tU,o.vS,o.cV,g.RN,u.rl,u.nJ,c.fg,f.$z,h.LG,C.An],styles:[".setup-container[_ngcontent-%COMP%]{min-height:calc(100vh - 120px);display:flex;align-items:center;justify-content:center}.setup-card[_ngcontent-%COMP%]{width:480px;max-width:100%;border-radius:16px;border:1px solid var(--border-soft);padding:24px}.setup-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 8px;font-family:var(--font-heading)}.setup-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 16px;color:#64748b}.setup-field[_ngcontent-%COMP%]{width:100%;margin-bottom:12px}.setup-error[_ngcontent-%COMP%]{margin-top:12px;color:#dc2626;display:flex;align-items:center;gap:6px}"]})}return s})()}];let y=(()=>{class s{static \u0275fac=function(a){return new(a||s)};static \u0275mod=e.$C({type:s});static \u0275inj=e.G2t({imports:[m.MD,o.YN,g.Hu,u.RG,c.fS,f.Hl,h.D6,C.m_,p.iI.forChild(F)]})}return s})()}}]);