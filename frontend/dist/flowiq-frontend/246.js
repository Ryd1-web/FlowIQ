"use strict";(self.webpackChunkflowiq_frontend=self.webpackChunkflowiq_frontend||[]).push([[246],{2246:(R,m,s)=>{s.r(m),s.d(m,{SettingsModule:()=>P});var g=s(177),N=s(8498),r=s(9417),u=s(5596),l=s(2102),c=s(9631),d=s(8834),p=s(9183),f=s(9213),t=s(4438),M=s(8010);function b(n,h){1&n&&t.nrm(0,"mat-progress-spinner",9)}function F(n,h){if(1&n&&(t.j41(0,"div",10)(1,"mat-icon"),t.EFF(2,"check_circle"),t.k0s(),t.j41(3,"span"),t.EFF(4),t.k0s()()),2&n){const e=t.XpG();t.R7$(4),t.JRh(e.success)}}function v(n,h){if(1&n&&(t.j41(0,"div",11)(1,"mat-icon"),t.EFF(2,"error"),t.k0s(),t.j41(3,"span"),t.EFF(4),t.k0s()()),2&n){const e=t.XpG();t.R7$(4),t.JRh(e.error)}}const S=[{path:"",component:(()=>{class n{authService;fullName="";phoneNumber="";loading=!1;success="";error="";constructor(e){this.authService=e}ngOnInit(){const e=this.authService.getCurrentUserFromToken();this.fullName=e.fullName,this.phoneNumber=e.phoneNumber}updateProfile(){this.loading=!0,this.success="",this.error="",this.authService.updateProfile({fullName:this.fullName?.trim(),phoneNumber:this.phoneNumber?.trim()}).subscribe({next:e=>{this.loading=!1,this.fullName=e.fullName??e.FullName??this.fullName,this.phoneNumber=e.phoneNumber??e.PhoneNumber??this.phoneNumber,this.success="Profile updated successfully."},error:e=>{this.loading=!1,this.error=e?.error?.message||e?.error?.Message||"Failed to update profile."}})}static \u0275fac=function(a){return new(a||n)(t.rXU(M.u))};static \u0275cmp=t.VBU({type:n,selectors:[["app-settings"]],decls:19,vars:6,consts:[[1,"settings-card"],[1,"settings-form",3,"ngSubmit"],["appearance","outline",1,"settings-field"],["matInput","","name","fullName","maxlength","100",3,"ngModelChange","ngModel"],["matInput","","name","phoneNumber","maxlength","20",3,"ngModelChange","ngModel"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["diameter","28",4,"ngIf"],["class","settings-success",4,"ngIf"],["class","settings-error",4,"ngIf"],["diameter","28"],[1,"settings-success"],[1,"settings-error"]],template:function(a,o){1&a&&(t.j41(0,"mat-card",0)(1,"h1"),t.EFF(2,"Settings"),t.k0s(),t.j41(3,"p"),t.EFF(4,"Update your profile details."),t.k0s(),t.j41(5,"form",1),t.bIt("ngSubmit",function(){return o.updateProfile()}),t.j41(6,"mat-form-field",2)(7,"mat-label"),t.EFF(8,"Full Name"),t.k0s(),t.j41(9,"input",3),t.mxI("ngModelChange",function(i){return t.DH7(o.fullName,i)||(o.fullName=i),i}),t.k0s()(),t.j41(10,"mat-form-field",2)(11,"mat-label"),t.EFF(12,"Phone Number"),t.k0s(),t.j41(13,"input",4),t.mxI("ngModelChange",function(i){return t.DH7(o.phoneNumber,i)||(o.phoneNumber=i),i}),t.k0s()(),t.j41(14,"button",5),t.EFF(15," Update Profile "),t.k0s()(),t.DNE(16,b,1,0,"mat-progress-spinner",6)(17,F,5,1,"div",7)(18,v,5,1,"div",8),t.k0s()),2&a&&(t.R7$(9),t.R50("ngModel",o.fullName),t.R7$(4),t.R50("ngModel",o.phoneNumber),t.R7$(),t.Y8G("disabled",o.loading),t.R7$(2),t.Y8G("ngIf",o.loading),t.R7$(),t.Y8G("ngIf",o.success),t.R7$(),t.Y8G("ngIf",o.error))},dependencies:[g.bT,r.qT,r.me,r.BC,r.cb,r.tU,r.vS,r.cV,u.RN,l.rl,l.nJ,c.fg,d.$z,p.LG,f.An],styles:[".settings-card[_ngcontent-%COMP%]{border-radius:16px;border:1px solid var(--border-soft);padding:24px;max-width:560px}.settings-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 8px;font-family:var(--font-heading);font-size:24px}.settings-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 16px;color:#64748b}.settings-form[_ngcontent-%COMP%]{display:grid;gap:12px}.settings-field[_ngcontent-%COMP%]{width:100%}.settings-success[_ngcontent-%COMP%], .settings-error[_ngcontent-%COMP%]{margin-top:12px;display:flex;align-items:center;gap:6px}.settings-success[_ngcontent-%COMP%]{color:#16a34a}.settings-error[_ngcontent-%COMP%]{color:#dc2626}"]})}return n})()}];let P=(()=>{class n{static \u0275fac=function(a){return new(a||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({imports:[g.MD,r.YN,u.Hu,l.RG,c.fS,d.Hl,p.D6,f.m_,N.iI.forChild(S)]})}return n})()}}]);