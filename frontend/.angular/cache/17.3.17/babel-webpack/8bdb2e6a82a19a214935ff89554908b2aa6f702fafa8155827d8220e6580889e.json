{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../core/services/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/material/card\";\nimport * as i6 from \"@angular/material/form-field\";\nimport * as i7 from \"@angular/material/input\";\nimport * as i8 from \"@angular/material/button\";\nimport * as i9 from \"@angular/material/progress-spinner\";\nimport * as i10 from \"@angular/material/icon\";\nfunction SignupComponent_mat_progress_spinner_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-progress-spinner\", 14);\n  }\n}\nfunction SignupComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"error\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.error, \" \");\n  }\n}\nfunction SignupComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16)(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"check_circle\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.success, \" \");\n  }\n}\nexport let SignupComponent = /*#__PURE__*/(() => {\n  class SignupComponent {\n    auth;\n    router;\n    phone = '';\n    fullName = '';\n    loading = false;\n    error = '';\n    success = '';\n    constructor(auth, router) {\n      this.auth = auth;\n      this.router = router;\n    }\n    signup() {\n      this.loading = true;\n      this.error = '';\n      this.success = '';\n      this.auth.signup(this.phone, this.fullName).subscribe({\n        next: res => {\n          this.loading = false;\n          this.success = res?.message || 'Registration successful. OTP sent.';\n          setTimeout(() => this.router.navigate(['/login'], {\n            queryParams: {\n              phone: this.phone\n            }\n          }), 1200);\n        },\n        error: err => {\n          this.loading = false;\n          this.error = err?.error?.message || err?.error?.Message || 'Registration failed.';\n        }\n      });\n    }\n    goToLogin() {\n      this.router.navigate(['/login']);\n    }\n    static ɵfac = function SignupComponent_Factory(t) {\n      return new (t || SignupComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: SignupComponent,\n      selectors: [[\"app-signup\"]],\n      decls: 24,\n      vars: 6,\n      consts: [[1, \"signup-container\"], [1, \"signup-card\"], [1, \"signup-title\"], [1, \"signup-subtitle\"], [3, \"ngSubmit\"], [\"appearance\", \"outline\", 1, \"signup-field\"], [\"matInput\", \"\", \"name\", \"fullName\", \"required\", \"\", \"maxlength\", \"50\", 3, \"ngModelChange\", \"ngModel\"], [\"matInput\", \"\", \"name\", \"phone\", \"required\", \"\", \"maxlength\", \"15\", 3, \"ngModelChange\", \"ngModel\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"type\", \"submit\", 3, \"disabled\"], [\"diameter\", \"32\", 4, \"ngIf\"], [\"class\", \"signup-error\", 4, \"ngIf\"], [\"class\", \"signup-success\", 4, \"ngIf\"], [1, \"auth-switch\"], [\"mat-button\", \"\", \"type\", \"button\", 3, \"click\"], [\"diameter\", \"32\"], [1, \"signup-error\"], [1, \"signup-success\"]],\n      template: function SignupComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"mat-card\", 1)(2, \"div\", 2);\n          i0.ɵɵtext(3, \"Create Your Account\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"div\", 3);\n          i0.ɵɵtext(5, \"First-time user registration\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"form\", 4);\n          i0.ɵɵlistener(\"ngSubmit\", function SignupComponent_Template_form_ngSubmit_6_listener() {\n            return ctx.signup();\n          });\n          i0.ɵɵelementStart(7, \"mat-form-field\", 5)(8, \"mat-label\");\n          i0.ɵɵtext(9, \"Full Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"input\", 6);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function SignupComponent_Template_input_ngModelChange_10_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.fullName, $event) || (ctx.fullName = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(11, \"mat-form-field\", 5)(12, \"mat-label\");\n          i0.ɵɵtext(13, \"Phone Number\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"input\", 7);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function SignupComponent_Template_input_ngModelChange_14_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.phone, $event) || (ctx.phone = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(15, \"button\", 8);\n          i0.ɵɵtext(16, \"Sign Up\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(17, SignupComponent_mat_progress_spinner_17_Template, 1, 0, \"mat-progress-spinner\", 9)(18, SignupComponent_div_18_Template, 4, 1, \"div\", 10)(19, SignupComponent_div_19_Template, 4, 1, \"div\", 11);\n          i0.ɵɵelementStart(20, \"div\", 12);\n          i0.ɵɵtext(21, \" Already registered? \");\n          i0.ɵɵelementStart(22, \"button\", 13);\n          i0.ɵɵlistener(\"click\", function SignupComponent_Template_button_click_22_listener() {\n            return ctx.goToLogin();\n          });\n          i0.ɵɵtext(23, \"Sign in\");\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(10);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.fullName);\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.phone);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"disabled\", ctx.loading);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.error);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.success);\n        }\n      },\n      dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.MaxLengthValidator, i4.NgModel, i4.NgForm, i5.MatCard, i6.MatFormField, i6.MatLabel, i7.MatInput, i8.MatButton, i9.MatProgressSpinner, i10.MatIcon],\n      styles: [\".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:#f8fafc}.login-card[_ngcontent-%COMP%]{width:340px;padding:32px 24px 24px;border-radius:16px;box-shadow:0 2px 16px #16a34a14;background:#fff;display:flex;flex-direction:column;align-items:stretch}.login-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;margin-bottom:18px;text-align:center}.login-field[_ngcontent-%COMP%]{width:100%;margin-bottom:18px}.login-error[_ngcontent-%COMP%]{color:#ef4444;margin-top:12px;display:flex;align-items:center;gap:6px;font-size:1rem}.auth-switch[_ngcontent-%COMP%]{margin-top:12px;color:#475569;display:flex;align-items:center;justify-content:center;gap:4px;font-size:14px}.signup-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.signup-card[_ngcontent-%COMP%]{width:350px;padding:2rem 1.5rem}.signup-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-bottom:1.5rem;text-align:center}.signup-field[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}.signup-error[_ngcontent-%COMP%]{color:#ef4444;margin-top:1rem;text-align:center}.signup-success[_ngcontent-%COMP%]{color:#16a34a;margin-top:1rem;text-align:center}\"]\n    });\n  }\n  return SignupComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}