{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../core/services/dashboard.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/material/icon\";\nimport * as i4 from \"@angular/material/card\";\nimport * as i5 from \"@angular/material/progress-spinner\";\nconst _c0 = () => ({\n  display: true\n});\nconst _c1 = a0 => ({\n  legend: a0\n});\nconst _c2 = a0 => ({\n  responsive: true,\n  plugins: a0\n});\nfunction DashboardComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵelement(1, \"mat-spinner\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 4)(2, \"mat-card\", 5)(3, \"div\", 6);\n    i0.ɵɵtext(4, \"Today In\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 7);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"mat-card\", 5)(9, \"div\", 6);\n    i0.ɵɵtext(10, \"Today Out\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 7);\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"mat-card\", 5)(15, \"div\", 6);\n    i0.ɵɵtext(16, \"Net Balance\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 7);\n    i0.ɵɵtext(18);\n    i0.ɵɵpipe(19, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"mat-card\", 5)(21, \"div\", 6);\n    i0.ɵɵtext(22, \"Cashflow Health\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"div\", 7);\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(25, \"mat-card\", 8)(26, \"div\", 9);\n    i0.ɵɵtext(27, \"Cashflow Trends\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(28, \"canvas\", 10);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(7, 8, ctx_r0.summary == null ? null : ctx_r0.summary.todayIn));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(13, 10, ctx_r0.summary == null ? null : ctx_r0.summary.todayOut));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(19, 12, ctx_r0.summary == null ? null : ctx_r0.summary.netBalance));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r0.summary == null ? null : ctx_r0.summary.cashflowHealth);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"datasets\", ctx_r0.lineChartData)(\"labels\", ctx_r0.lineChartLabels)(\"options\", i0.ɵɵpureFunction1(17, _c2, i0.ɵɵpureFunction1(15, _c1, i0.ɵɵpureFunction0(14, _c0))))(\"legend\", true);\n  }\n}\nfunction DashboardComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"error\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.error, \"\\n\");\n  }\n}\nexport let DashboardComponent = /*#__PURE__*/(() => {\n  class DashboardComponent {\n    dashboardService;\n    summary;\n    trends;\n    loading = true;\n    error = '';\n    lineChartData;\n    lineChartLabels = [];\n    constructor(dashboardService) {\n      this.dashboardService = dashboardService;\n    }\n    ngOnInit() {\n      this.dashboardService.getSummary().subscribe({\n        next: data => this.summary = data,\n        error: err => this.error = 'Failed to load summary.'\n      });\n      this.dashboardService.getTrends().subscribe({\n        next: data => {\n          this.trends = data;\n          this.lineChartLabels = data.dates;\n          this.lineChartData = [{\n            data: data.in,\n            label: 'In',\n            borderColor: '#16A34A',\n            fill: false\n          }, {\n            data: data.out,\n            label: 'Out',\n            borderColor: '#EF4444',\n            fill: false\n          }, {\n            data: data.net,\n            label: 'Net',\n            borderColor: '#0EA5E9',\n            fill: false\n          }];\n          this.loading = false;\n        },\n        error: err => {\n          this.error = 'Failed to load trends.';\n          this.loading = false;\n        }\n      });\n    }\n    static ɵfac = function DashboardComponent_Factory(t) {\n      return new (t || DashboardComponent)(i0.ɵɵdirectiveInject(i1.DashboardService));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: DashboardComponent,\n      selectors: [[\"app-dashboard\"]],\n      decls: 3,\n      vars: 3,\n      consts: [[\"class\", \"dashboard-loading\", 4, \"ngIf\"], [4, \"ngIf\"], [\"class\", \"dashboard-error\", 4, \"ngIf\"], [1, \"dashboard-loading\"], [1, \"dashboard-cards\"], [1, \"dashboard-card\"], [1, \"card-title\"], [1, \"card-value\"], [1, \"dashboard-chart-card\"], [1, \"chart-title\"], [\"baseChart\", \"\", \"chartType\", \"line\", 3, \"datasets\", \"labels\", \"options\", \"legend\"], [1, \"dashboard-error\"]],\n      template: function DashboardComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, DashboardComponent_div_0_Template, 2, 0, \"div\", 0)(1, DashboardComponent_div_1_Template, 29, 19, \"div\", 1)(2, DashboardComponent_div_2_Template, 4, 1, \"div\", 2);\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && !ctx.error);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.error);\n        }\n      },\n      dependencies: [i2.NgIf, i3.MatIcon, i4.MatCard, i5.MatProgressSpinner, i2.CurrencyPipe],\n      styles: [\".dashboard-cards[_ngcontent-%COMP%]{display:flex;gap:24px;margin-bottom:32px;flex-wrap:wrap}.dashboard-card[_ngcontent-%COMP%]{flex:1 1 180px;min-width:180px;background:#fff;box-shadow:0 2px 8px #16a34a0a;border-radius:12px;padding:20px 16px 16px;display:flex;flex-direction:column;align-items:flex-start;justify-content:center}.card-title[_ngcontent-%COMP%]{font-size:1rem;color:#888;margin-bottom:8px}.card-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#16a34a}.dashboard-chart-card[_ngcontent-%COMP%]{margin-top:16px;padding:16px;background:#fff;border-radius:12px;box-shadow:0 2px 8px #16a34a0a}.chart-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:12px}.dashboard-loading[_ngcontent-%COMP%], .dashboard-error[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:300px;font-size:1.2rem;color:#888}@media (max-width: 800px){.dashboard-cards[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.dashboard-card[_ngcontent-%COMP%]{min-width:0;width:100%}}\"]\n    });\n  }\n  return DashboardComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}